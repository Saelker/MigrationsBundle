<?php

namespace Saelker\MigrationsBundle\Repository;

/**
 * MigrationRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class MigrationRepository extends \Doctrine\ORM\EntityRepository
{
	/**
	 * @param $folder
	 * @return mixed
	 */
	public function getLatestIdentifier($folder)
	{
		return $this
			->createQueryBuilder('m')
			->andWhere('m.folder = :folder')
			->setMaxResults(1)
			->orderBy('m.identifier', 'DESC')
			->setParameter('folder', $folder)
			->getQuery()
			->getOneOrNullResult();
	}
}
